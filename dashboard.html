<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuaExpress</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}body{min-height:100vh;background:linear-gradient(135deg,#0f0f1a,#1a0a2e,#0a0a1f);padding:20px;font-family:system-ui,sans-serif}.header{max-width:1100px;margin:0 auto 30px;display:flex;justify-content:space-between;align-items:center;padding:20px 30px;background:rgba(20,15,40,0.95);border-radius:16px;border:1px solid rgba(139,92,246,0.2)}.logo{display:flex;align-items:center;gap:12px}.logo-icon{width:45px;height:45px;background:linear-gradient(135deg,#8b5cf6,#ec4899);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:22px}.header h1{font-size:24px;font-weight:800;background:linear-gradient(90deg,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.user-email{color:#a78bfa;font-size:14px;padding:8px 16px;background:rgba(139,92,246,0.1);border-radius:20px}.btn-logout{padding:10px 20px;background:rgba(239,68,68,0.2);border:1px solid rgba(239,68,68,0.3);border-radius:10px;color:#f87171;cursor:pointer}.container{max-width:1100px;margin:0 auto}.card{background:rgba(20,15,40,0.95);border-radius:16px;padding:25px;margin-bottom:20px;border:1px solid rgba(139,92,246,0.15)}.card h2{color:#fff;font-size:20px;margin-bottom:20px}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:15px}.panel-item{background:rgba(30,20,50,0.9);border:1px solid rgba(139,92,246,0.2);border-radius:14px;padding:20px;transition:0.3s}.panel-item:hover{border-color:#8b5cf6;transform:translateY(-3px)}.panel-name{color:#fff;font-size:18px;font-weight:700;margin-bottom:10px}.library-id{background:rgba(139,92,246,0.15);color:#c4b5fd;padding:10px 14px;border-radius:10px;font-family:monospace;font-size:13px;margin-bottom:15px;display:flex;justify-content:space-between;align-items:center}.panel-meta{color:#888;font-size:12px;margin-bottom:15px}.btn{padding:10px 16px;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;border:none;transition:0.3s}.btn-primary{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff}.btn-secondary{background:rgba(139,92,246,0.15);border:1px solid rgba(139,92,246,0.3);color:#a78bfa}.btn-danger{background:rgba(239,68,68,0.15);border:1px solid rgba(239,68,68,0.3);color:#f87171}.btn-warning{background:rgba(251,191,36,0.15);border:1px solid rgba(251,191,36,0.3);color:#fbbf24}.btn-success{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.btn-group{display:flex;gap:8px;flex-wrap:wrap}.form-row{display:flex;gap:12px;margin-bottom:15px}.form-input{flex:1;padding:12px 16px;background:rgba(30,20,50,0.8);border:1px solid rgba(139,92,246,0.2);border-radius:10px;color:#fff;font-size:14px}.form-input:focus{outline:none;border-color:#8b5cf6}.form-input::placeholder{color:#666}.key-status{padding:5px 12px;border-radius:15px;font-size:11px;font-weight:700;background:rgba(16,185,129,0.2);color:#4ade80}.message{padding:12px;border-radius:10px;margin:15px 0;font-size:14px;text-align:center}.message.success{background:rgba(16,185,129,0.2);color:#4ade80}.message.error{background:rgba(239,68,68,0.2);color:#f87171}.keys-list{display:flex;flex-direction:column;gap:10px;margin-top:15px}.key-item{background:rgba(20,15,40,0.8);border:1px solid rgba(139,92,246,0.1);border-radius:10px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.key-value{font-family:monospace;color:#c4b5fd;font-size:13px}.key-meta{color:#888;font-size:11px}.empty-state{text-align:center;padding:50px;color:#666}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);justify-content:center;align-items:center;z-index:1000}.modal.active{display:flex}.modal-content{background:rgba(20,15,40,0.98);border-radius:20px;padding:30px;max-width:650px;width:90%;max-height:80vh;overflow-y:auto;border:1px solid rgba(139,92,246,0.2)}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid rgba(139,92,246,0.2)}.modal-title{color:#fff;font-size:20px;font-weight:700}.modal-close{background:rgba(239,68,68,0.2);border:1px solid rgba(239,68,68,0.3);color:#f87171;width:35px;height:35px;border-radius:8px;cursor:pointer;font-size:16px}.copy-btn{background:rgba(139,92,246,0.2);border:1px solid rgba(139,92,246,0.3);color:#a78bfa;padding:6px 10px;border-radius:6px;cursor:pointer;font-size:11px}.code-box{background:rgba(0,0,0,0.5);border:1px solid rgba(139,92,246,0.2);border-radius:12px;padding:15px;margin:15px 0;max-height:300px;overflow-y:auto}.code-box pre{color:#4ade80;font-family:monospace;font-size:11px;white-space:pre-wrap;word-break:break-all}
    </style>
</head>
<body>
    <header class="header"><div class="logo"><div class="logo-icon">üöÄ</div><h1>LUAEXPRESS</h1></div><div style="display:flex;align-items:center;gap:15px"><span class="user-email" id="userEmail">Loading...</span><button class="btn-logout" onclick="logout()">Logout</button></div></header>
    <div class="container">
        <div class="card"><h2>‚ö° Create Panel</h2><div class="form-row"><input type="text" class="form-input" id="panelName" placeholder="Panel name" maxlength="30"><button class="btn btn-primary" onclick="createPanel()">Create</button></div><div id="createMessage" class="message" style="display:none"></div></div>
        <div class="card"><h2>üìã Your Panels</h2><div class="grid" id="panelsList"><div class="empty-state"><p>No panels yet</p></div></div></div>
    </div>
    <div class="modal" id="keysModal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title" id="modalTitle">Keys</h3><button class="modal-close" onclick="closeKeysModal()">‚úï</button></div><div class="form-row"><input type="text" class="form-input" id="keyDuration" placeholder="Duration: 1d, 7d, 30d, 1y, lifetime"><button class="btn btn-primary" onclick="generateKey()">Generate</button></div><p style="color:#666;font-size:11px;margin-bottom:15px">Ex: 1d, 7d, 30d, 1y, lifetime</p><div id="keyMessage" class="message" style="display:none"></div><div class="keys-list" id="modalKeysList"></div></div></div>
    <div class="modal" id="scriptModal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title" id="scriptModalTitle">Script</h3><button class="modal-close" onclick="closeScriptModal()">‚úï</button></div><p style="color:#888;margin-bottom:10px">Copy to Pastefy/Pastebin:</p><div class="code-box"><pre id="scriptCode"></pre></div><button class="btn btn-success" onclick="copyScriptCode()" style="width:100%">üìã Copy</button></div></div>
<script>
var token=localStorage.getItem("token");if(!token)window.location.href="/login.html";document.getElementById("userEmail").textContent=localStorage.getItem("userEmail")||"User";var currentPanelId=null,currentScriptCode="";loadPanels();function parseDuration(e){e=e.toLowerCase().trim();if(e==="lifetime"||e==="forever")return 315360000;var t=e.match(/^(\d+)\s*(d|w|m|y|h)$/);if(!t)return null;var n=parseInt(t[1]),r=t[2];if(r==="h")return n*3600;if(r==="d")return n*86400;if(r==="w")return n*604800;if(r==="m")return n*2592000;if(r==="y")return n*31536000;return null}function loadPanels(){fetch("/api/panels/list",{headers:{"Authorization":"Bearer "+token}}).then(function(e){return e.json()}).then(function(e){if(e.panels)renderPanels(e.panels)})}function renderPanels(e){var t=document.getElementById("panelsList");if(e.length===0){t.innerHTML="<div class='empty-state'><p>No panels yet</p></div>";return}var n="";for(var r=0;r<e.length;r++){var i=e[r];n+="<div class='panel-item'><div class='panel-name'>"+i.name+"</div>";n+="<div class='library-id'><span>ID: "+i.libraryId+"</span><button class='copy-btn' onclick=\"copyText('"+i.libraryId+"')\">Copy</button></div>";n+="<div class='panel-meta'>"+i.keyCount+" keys | "+i.createdAt+"</div><div class='btn-group'>";n+="<button class='btn btn-secondary' onclick=\"openKeys('"+i.libraryId+"','"+i.name+"')\">üîë Keys</button>";n+="<button class='btn btn-success' onclick=\"openScript('"+i.libraryId+"','"+i.name+"')\">üìú Script</button>";n+="<button class='btn btn-danger' onclick=\"deletePanel('"+i.libraryId+"')\">üóëÔ∏è</button></div></div>"}t.innerHTML=n}function createPanel(){var e=document.getElementById("panelName").value.trim(),t=document.getElementById("createMessage");if(!e){showMsg(t,"Enter name","error");return}fetch("/api/panels/create",{method:"POST",headers:{"Authorization":"Bearer "+token,"Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(function(e){return e.json()}).then(function(e){if(e.success){showMsg(t,"Created! ID: "+e.panel.libraryId,"success");document.getElementById("panelName").value="";loadPanels()}else showMsg(t,e.error,"error")})}function deletePanel(e){if(!confirm("Delete?"))return;fetch("/api/panels/delete",{method:"POST",headers:{"Authorization":"Bearer "+token,"Content-Type":"application/json"},body:JSON.stringify({libraryId:e})}).then(function(){loadPanels()})}function openKeys(e,t){currentPanelId=e;document.getElementById("modalTitle").textContent="üîë "+t;document.getElementById("keysModal").classList.add("active");document.getElementById("keyDuration").value="";loadKeys()}function closeKeysModal(){document.getElementById("keysModal").classList.remove("active")}function loadKeys(){fetch("/api/keys/list?panelId="+currentPanelId,{headers:{"Authorization":"Bearer "+token}}).then(function(e){return e.json()}).then(function(e){renderKeys(e.keys||[])})}function renderKeys(e){var t=document.getElementById("modalKeysList");if(e.length===0){t.innerHTML="<div class='empty-state'>No keys</div>";return}var n="";for(var r=0;r<e.length;r++){var i=e[r];n+="<div class='key-item'><div><div class='key-value'>"+i.key+"</div><div class='key-meta'>"+i.expiresIn+" | HWID: "+(i.hwid?"Yes":"No")+"</div></div><div class='btn-group'>";n+="<button class='btn btn-secondary' onclick=\"copyText('"+i.key+"')\">üìã</button>";n+="<button class='btn btn-warning' onclick=\"resetHWID('"+i.key+"')\">üîÑ</button>";n+="<button class='btn btn-danger' onclick=\"deleteKey('"+i.key+"')\">üóëÔ∏è</button></div></div>"}t.innerHTML=n}function generateKey(){var e=document.getElementById("keyDuration").value,t=document.getElementById("keyMessage"),n=parseDuration(e);if(!n){showMsg(t,"Invalid. Use: 1d, 7d, 1y, lifetime","error");return}fetch("/api/keys/generate",{method:"POST",headers:{"Authorization":"Bearer "+token,"Content-Type":"application/json"},body:JSON.stringify({duration:n,panelId:currentPanelId})}).then(function(e){return e.json()}).then(function(e){if(e.success){showMsg(t,"Key: "+e.key,"success");loadKeys();loadPanels()}else showMsg(t,e.error,"error")})}function resetHWID(e){if(!confirm("Reset HWID?"))return;fetch("/api/keys/reset-hwid",{method:"POST",headers:{"Authorization":"Bearer "+token,"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then(function(){loadKeys()})}function deleteKey(e){if(!confirm("Delete?"))return;fetch("/api/keys/delete",{method:"POST",headers:{"Authorization":"Bearer "+token,"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then(function(){loadKeys();loadPanels()})}function openScript(e,t){var n=window.location.origin,r="-- "+t+" | LuaExpress\n-- ID: "+e+"\n\nlocal API=\""+n+"/api/keys/verify\"\nlocal PID=\""+e+"\"\nlocal Http=game:GetService(\"HttpService\")\n\nlocal function hwid() local ok,h=pcall(function() return game:GetService(\"RbxAnalyticsService\"):GetClientId() end) return ok and h or \"x\" end\n\nlocal function verify(k) local u=API..\"?key=\"..k..\"&hwid=\"..hwid()..\"&panelId=\"..PID local ok,r=pcall(function() return Http:JSONDecode(game:HttpGet(u)) end) return ok and r or {valid=false,error=\"Error\"} end\n\nlocal function ui() if game.CoreGui:FindFirstChild(\"LuaExpressUI\") then game.CoreGui.LuaExpressUI:Destroy() end\nlocal SG=Instance.new(\"ScreenGui\") SG.Name=\"LuaExpressUI\" SG.Parent=game.CoreGui\nlocal MF=Instance.new(\"Frame\") MF.Parent=SG MF.BackgroundColor3=Color3.fromRGB(15,10,30) MF.Position=UDim2.new(0.5,-200,0.5,-140) MF.Size=UDim2.new(0,400,0,280) MF.Active=true MF.Draggable=true\nlocal UC=Instance.new(\"UICorner\") UC.CornerRadius=UDim.new(0,16) UC.Parent=MF\nlocal US=Instance.new(\"UIStroke\") US.Color=Color3.fromRGB(139,92,246) US.Thickness=2 US.Parent=MF\nlocal TL=Instance.new(\"TextLabel\") TL.Parent=MF TL.BackgroundTransparency=1 TL.Position=UDim2.new(0,0,0,20) TL.Size=UDim2.new(1,0,0,40) TL.Font=Enum.Font.GothamBold TL.Text=\""+t+"\" TL.TextColor3=Color3.fromRGB(139,92,246) TL.TextSize=24\nlocal ST=Instance.new(\"TextLabel\") ST.Parent=MF ST.BackgroundTransparency=1 ST.Position=UDim2.new(0,0,0,55) ST.Size=UDim2.new(1,0,0,25) ST.Font=Enum.Font.Gotham ST.Text=\"Enter your key\" ST.TextColor3=Color3.fromRGB(136,136,136) ST.TextSize=14\nlocal KB=Instance.new(\"TextBox\") KB.Parent=MF KB.BackgroundColor3=Color3.fromRGB(30,20,50) KB.Position=UDim2.new(0.1,0,0,95) KB.Size=UDim2.new(0.8,0,0,45) KB.Font=Enum.Font.GothamMedium KB.PlaceholderText=\"KEY-XXXX\" KB.Text=\"\" KB.TextColor3=Color3.fromRGB(255,255,255) KB.TextSize=15\nlocal KC=Instance.new(\"UICorner\") KC.CornerRadius=UDim.new(0,10) KC.Parent=KB\nlocal VB=Instance.new(\"TextButton\") VB.Parent=MF VB.BackgroundColor3=Color3.fromRGB(139,92,246) VB.Position=UDim2.new(0.1,0,0,155) VB.Size=UDim2.new(0.8,0,0,45) VB.Font=Enum.Font.GothamBold VB.Text=\"VERIFY KEY\" VB.TextColor3=Color3.fromRGB(255,255,255) VB.TextSize=16\nlocal VC=Instance.new(\"UICorner\") VC.CornerRadius=UDim.new(0,10) VC.Parent=VB\nlocal SL=Instance.new(\"TextLabel\") SL.Parent=MF SL.BackgroundTransparency=1 SL.Position=UDim2.new(0,0,0,210) SL.Size=UDim2.new(1,0,0,40) SL.Font=Enum.Font.Gotham SL.Text=\"\" SL.TextColor3=Color3.fromRGB(255,255,255) SL.TextSize=14 SL.TextWrapped=true\nlocal CB=Instance.new(\"TextButton\") CB.Parent=MF CB.BackgroundTransparency=1 CB.Position=UDim2.new(1,-35,0,5) CB.Size=UDim2.new(0,30,0,30) CB.Font=Enum.Font.GothamBold CB.Text=\"X\" CB.TextColor3=Color3.fromRGB(255,100,100) CB.TextSize=18\nCB.MouseButton1Click:Connect(function() SG:Destroy() end)\nVB.MouseButton1Click:Connect(function() local key=KB.Text if key==\"\" then SL.TextColor3=Color3.fromRGB(255,100,100) SL.Text=\"Enter a key\" return end SL.TextColor3=Color3.fromRGB(255,255,0) SL.Text=\"Verifying...\" VB.Text=\"WAIT...\" task.wait(0.5) local result=verify(key) if result.valid then SL.TextColor3=Color3.fromRGB(100,255,100) SL.Text=\"Valid!\" VB.Text=\"OK!\" task.wait(2) SG:Destroy() print(\"Key OK\") else SL.TextColor3=Color3.fromRGB(255,100,100) SL.Text=result.error or \"Invalid\" VB.Text=\"VERIFY KEY\" end end) end\n\nui()\nprint(\""+t+" loaded!\")";currentScriptCode=r;document.getElementById("scriptModalTitle").textContent=t;document.getElementById("scriptCode").textContent=r;document.getElementById("scriptModal").classList.add("active")}function closeScriptModal(){document.getElementById("scriptModal").classList.remove("active")}function copyScriptCode(){navigator.clipboard.writeText(currentScriptCode);alert("Copied!")}function copyText(e){navigator.clipboard.writeText(e);alert("Copied!")}function showMsg(e,t,n){e.className="message "+n;e.textContent=t;e.style.display="block";setTimeout(function(){e.style.display="none"},5000)}function logout(){localStorage.removeItem("token");localStorage.removeItem("userEmail");window.location.href="/login.html"}
</script>
</body>
</html>
